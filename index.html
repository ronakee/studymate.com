$(document).ready(function(){

	 load_json_data('Course');
     
	 function load_json_data(id, parent_id)
	 {
	  var html_code = '';
	  $.getJSON('country_state_city.json', function(data){
      $.each(data, function(key, value){
	    if(id == 'Coursetype')
	    {
	     if(value.parent_id == '0')
	     {
	      html_code += '<option value="'+value.id+'">'+value.name+'</option>';
	     }
	    }
	    else
	    {
	     if(value.parent_id == parent_id)
	     {
	      html_code += '<option value="'+value.id+'">'+value.name+'</option>';
	     }
	    }
	   });
	   $('#'+id).html(html_code);
	  });

	 }
 $(document).on('change', '#Coursetype', function(){
	  var coursetype_id = $(this).val();
	  if(coursetype_id != '')
	  {
	   load_json_data('Semester', coursetype_id);
	  }
	  else
	  {
	   $('#Course').html('<option value="">Select Course</option>');
	   $('#Semester').html('<option value="">Select Semester</option>');
	   $('#Subject').html('<option value="">Select Subject</option>');
	  }
	 });
	 $(document).on('change', '#Course', function(){
	  var course_id = $(this).val();
	  if(course_id != '')
	  {
	   load_json_data('Semester', course_id);
	  }
	  else
	  {
	   $('#Semester').html('<option value="">Select Semester</option>');
	   $('#Subject').html('<option value="">Select Subject</option>');
	  }
	 });
	 $(document).on('change', '#Semester', function(){
	  var semester_id = $(this).val();
	  if(semester_id != '')
	  {
      load_json_data('Subject', semester_id);
	  }
	  else
	  {
	   $('#Subject').html('<option value="">Select Subject</option>');
	  }
	 });
	      function load_json_link(id, parent_id)
	 {
	  var html_code = '';
	  $.getJSON('country_state_city.json', function(data){
	   $.each(data, function(key, value){
	    if(id == 'Course')
	    {
	     if(value.parent_id == '0')
	     {
	      html_code += '<a href="'+value.name+'">Search</a>';
	     }
	    }
	    else
	    {
	     if(value.parent_id == parent_id)
	     {
	      html_code += '<a href="'+value.name+'">Search</a>';
	     }
	    }
	   });
	   $('#'+id).html(html_code);
	  });

	 }
	 $(document).on('change', '#Subject', function(){
	  var semester_id = $(this).val();
	  if(semester_id != '')
	  {
      load_json_link('Link', semester_id);
	  }
	  
	 });           	
      });
